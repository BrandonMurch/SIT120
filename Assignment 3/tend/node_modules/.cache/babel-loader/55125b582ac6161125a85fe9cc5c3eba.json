{"remainingRequest":"/home/brandon/Documents/Independent Programming/tend/node_modules/thread-loader/dist/cjs.js!/home/brandon/Documents/Independent Programming/tend/node_modules/babel-loader/lib/index.js!/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/brandon/Documents/Independent Programming/tend/src/components/SearchBar.vue?vue&type=template&id=6d3375ce&scoped=true","dependencies":[{"path":"/home/brandon/Documents/Independent Programming/tend/src/components/SearchBar.vue","mtime":1632341193563},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632324173000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632324173000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgbWVyZ2VQcm9wcyBhcyBfbWVyZ2VQcm9wcywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi02ZDMzNzVjZSIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgc3R5bGU6IHsKICAgICJkaXNwbGF5IjogImlubGluZSIKICB9Cn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAic2VhcmNoLWNvbnRhaW5lciIsCiAgcmVmOiAic2VhcmNoYmFyIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IFsib25DbGljayJdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1BsYW50UHJvZmlsZVB1YmxpYyA9IF9yZXNvbHZlQ29tcG9uZW50KCJQbGFudFByb2ZpbGVQdWJsaWMiKTsKCiAgdmFyIF9jb21wb25lbnRfRHJvcERvd24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiRHJvcERvd24iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgWyRkYXRhLnNlYXJjaFJlc3VsdEZvclBvcFVwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfUGxhbnRQcm9maWxlUHVibGljLCBfbWVyZ2VQcm9wcyh7CiAgICBrZXk6IDAKICB9LCAkZGF0YS5zZWFyY2hSZXN1bHRGb3JQb3BVcCwgewogICAgb25DbG9zZTogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5zZWFyY2hSZXN1bHRGb3JQb3BVcCA9IG51bGw7CiAgICB9KQogIH0pLCBudWxsLCAxNikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0Ryb3BEb3duLCB7CiAgICBpc09wZW46ICRwcm9wcy5pc09wZW4sCiAgICBpbnNldFNoYWRvdzogIiIKICB9LCB7CiAgICBpbnNpZGU6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgICAgIHJvbGU6ICJzZWFyY2giLAogICAgICAgIG9uS2V5dXA6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICRvcHRpb25zLmhhbmRsZUtleVVwICYmICRvcHRpb25zLmhhbmRsZUtleVVwLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgICAgIH0pLAogICAgICAgIGNsYXNzOiAic2VhcmNoLWlucHV0IiwKICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJzZWFyY2ggZm9yIGEgcGxhbnQgc3BlY2llcy4uLiIsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkZGF0YS5zZWFyY2hUZXJtID0gJGV2ZW50OwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDU0NCksIFtbX3ZNb2RlbFRleHQsICRkYXRhLnNlYXJjaFRlcm0sIHZvaWQgMCwgewogICAgICAgIHRyaW06IHRydWUKICAgICAgfV1dKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uIChzdWdnZXN0aW9uKSB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiaDMiLCB7CiAgICAgICAgICBrZXk6IHN1Z2dlc3Rpb24sCiAgICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsic3VnZ2VzdGlvbi10ZXh0IiwgewogICAgICAgICAgICBzdWdnZXN0aW9uRm9jdXM6ICRvcHRpb25zLmlzRm9jdXNlZFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbikKICAgICAgICAgIH1dKSwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHJldHVybiAkb3B0aW9ucy5zdWJtaXRTZWFyY2goc3VnZ2VzdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX3RvRGlzcGxheVN0cmluZyhzdWdnZXN0aW9uKSwgMTEsIF9ob2lzdGVkXzMpOwogICAgICB9KSwgMTI4KSldKV0sIDUxMildOwogICAgfSksCiAgICBfOiAxCiAgfSwgOCwgWyJpc09wZW4iXSldKTsKfQ=="},{"version":3,"sources":["/home/brandon/Documents/Independent Programming/tend/src/components/SearchBar.vue"],"names":[],"mappings":";;;;;;;AAaM,EAAA,KAAwB,EAAxB;AAAA,eAAA;AAAA;;;AASG,EAAA,KAAK,EAAC,kB;AAAmB,EAAA,GAAG,EAAC;;;;;;;;uBATrC,mBAAA,CAsCM,KAtCN,EAAA,UAAA,EAsCM,CAnCE,KAAA,CAAA,oB,kBADP,YAAA,CAIE,6BAJF,EAAA,WAAA,CAIE;AAAA,IAAA,GAAA,EAAA;AAAA,GAJF,EAES,KAAA,CAAA,oBAFT,EAE6B;AAC3B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,KAAA,CAAA,oBAAA,GAAoB,IAAtB;AAAA,KAAA;AADsB,GAF7B,CAAA,E,IAAA,E,EAAA,C,iCAoCK,EA/BL,YAAA,CA8BW,mBA9BX,EA8BW;AA9BA,IAAA,MAAM,EAAE,MAAA,CAAA,MA8BR;AA9BgB,IAAA,WAAW,EAAX;AA8BhB,GA9BX,E;AACkB,IAAA,MAAM,EAAA,QAAA,CACtB;AAAA,aA0BM,CA1BN,mBAAA,CA0BM,KA1BN,EAAA,UAAA,EA0BM,C,gBAxBL,mBAAA,CAOE,OAPF,EAOE;AAND,QAAA,IAAI,EAAC,QAMJ;AALA,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,iBAAE,QAAA,CAAA,WAAA,IAAA,QAAA,CAAA,WAAA,OAAA,QAAA,YAAF;AAAA,SAAA,CAKL;AAJD,QAAA,KAAK,EAAC,cAIL;AAHD,QAAA,IAAI,EAAC,MAGJ;AAFD,QAAA,WAAW,EAAC,+BAEX;;iBADa,KAAA,CAAA,UAAA,GAAU,M;;AACvB,OAPF,E,IAAA,E,GAAA,C,iBAMe,KAAA,CAAA,U;cAAd;UAkBI,EAhBL,mBAAA,CAeM,KAfN,EAeM,IAfN,EAeM,E,kBAbL,mBAAA,CAYK,SAZL,EAYK,IAZL,EAYK,WAAA,CAXiB,KAAA,CAAA,WAWjB,EAX4B,UAAzB,UAAyB,EAAf;6BADlB,mBAAA,CAYK,IAZL,EAYK;AAVH,UAAA,GAAG,EAAE,UAUF;AATJ,UAAA,KAAK,EAAA,eAAA,CAAA,CAAC,iBAAD,EAAkB;6BACY,QAAA,CAAA,mBAAA,CAA8B,UAA9B;AADZ,WAAlB,CAAA,CASD;AAHH,UAAA,OAAK,EAAA;AAAA,mBAAQ,QAAA,CAAA,YAAA,CAAa,UAAb,CAAR;AAAA;AAGF,SAZL,E,iBAWI,U,CAXJ,EAWc,EAXd,EAWc,UAXd,C;OAYK,CAZL,E,GAAA,CAaK,EAfN,CAgBK,CA1BN,E,GAAA,CA0BM,CA1BN;AAAA,KADsB,C;;GADxB,E,CAAA,E,UAAA,CA+BK,CAtCN,C","sourcesContent":["<!-- \n\n// Search autocomplete inspired from\nhttps://www.w3schools.com/howto/howto_js_autocomplete.asp -->\n\n<!--\nDescription: \n\t\t\t\tA search bar with autocomplete. Will autocomplete with different results based on the path. \nProps: \n\tisOpen\t\tBoolean. Whether or not the search bar is open or closed.  \n-->\n\n<template>\n\t<div style=\"display: inline;\">\n\t\t<!-- Create pop up if a plant has been selected through the search bar. -->\n\t\t<PlantProfilePublic\n\t\t\tv-if=\"searchResultForPopUp\"\n\t\t\tv-bind=\"searchResultForPopUp\"\n\t\t\t@close=\"searchResultForPopUp = null\"\n\t\t/>\n\t\t<DropDown :isOpen=\"isOpen\" insetShadow>\n\t\t\t<template v-slot:inside>\n\t\t\t\t<div class=\"search-container\" ref=\"searchbar\">\n\t\t\t\t\t<!-- Search bar -->\n\t\t\t\t\t<input\n\t\t\t\t\t\trole=\"search\"\n\t\t\t\t\t\t@keyup=\"handleKeyUp\"\n\t\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"search for a plant species...\"\n\t\t\t\t\t\tv-model.trim=\"searchTerm\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<!-- Populated suggestions for autocomplete -->\n\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\tv-for=\"suggestion in suggestions\"\n\t\t\t\t\t\t\t:key=\"suggestion\"\n\t\t\t\t\t\t\tclass=\"suggestion-text\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\tsuggestionFocus: isFocusedSuggestion(\n\t\t\t\t\t\t\t\t\tsuggestion\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t@click=\"() => submitSearch(suggestion)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ suggestion }}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</DropDown>\n\t</div>\n</template>\n\n<script>\nimport DropDown from \"./DropDown.vue\";\nimport PlantProfilePublic from \"./PlantProfilePublic.vue\";\n\nexport default {\n\tname: \"SearchBar\",\n\tcomponents: { DropDown, PlantProfilePublic },\n\tprops: { isOpen: Boolean },\n\twatch: {\n\t\tisOpen: function(value) {\n\t\t\tif (!value) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchTerm: \"\",\n\t\t\tsearchOptions: this.getOptions(),\n\t\t\tsuggestions: [],\n\t\t\tfocusedIndex: -1,\n\t\t\tfocusedSuggestion: \"\",\n\t\t\tsearchResultForPopUp: undefined,\n\t\t};\n\t},\n\tmethods: {\n\t\t// Get the options based on the url path.\n\t\tgetOptions() {\n\t\t\tif (\n\t\t\t\tthis.$route.path.includes(\"my-plants\") ||\n\t\t\t\tthis.$route.path.includes(\"explore\")\n\t\t\t) {\n\t\t\t\treturn this.$store.getters[\"plants/allSpecies\"];\n\t\t\t} else if (this.$route.path.includes(\"learn\")) {\n\t\t\t\treturn this.$store.getters[\"learn/articles/all\"].map(\n\t\t\t\t\t(article) => article.title\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t// Reset state and close.\n\t\tclose() {\n\t\t\tthis.suggestions = [];\n\t\t\tthis.focusedIndex = -1;\n\t\t\tthis.focusedSuggestion = \"\";\n\t\t\tthis.searchTerm = \"\";\n\t\t\tthis.$emit(\"close\");\n\t\t},\n\n\t\t// Perfom actions if a key has been typed within the search bar.\n\t\thandleKeyUp(event) {\n\t\t\tif (this.suggestions.length === 0) {\n\t\t\t\tthis.getSuggestions();\n\t\t\t}\n\t\t\tswitch (event.key) {\n\t\t\t\t// Submit search\n\t\t\t\tcase \"Enter\":\n\t\t\t\t\t// Submit either the suggestion, or what is in the search bar depending if a suggestion has been selected.\n\t\t\t\t\tif (this.focusedSuggestion === \"\") {\n\t\t\t\t\t\tthis.submitSearch(this.searchTerm);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.submitSearch(this.focusedSuggestion);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Escape\":\n\t\t\t\t\tthis.close();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t// Shift to the focused suggestion below the current.\n\t\t\t\t\tif (this.focusedIndex < this.suggestions.length - 1) {\n\t\t\t\t\t\tthis.focusedIndex++;\n\t\t\t\t\t\tthis.focusedSuggestion = this.suggestions[\n\t\t\t\t\t\t\tthis.focusedIndex\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t// Shift to the focused suggestion above the current.\n\t\t\t\t\tif (this.focusedIndex > 0) {\n\t\t\t\t\t\tthis.focusedIndex--;\n\t\t\t\t\t\tthis.focusedSuggestion = this.suggestions[\n\t\t\t\t\t\t\tthis.focusedIndex\n\t\t\t\t\t\t];\n\t\t\t\t\t\t// Unfocus suggestions if the current suggestion is on top.\n\t\t\t\t\t} else if (this.focusedIndex == 0) {\n\t\t\t\t\t\tthis.focusedIndex = -1;\n\t\t\t\t\t\tthis.focusedSuggestion = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// Letter has been typed. Regenerate suggestions.\n\t\t\t\t\tthis.focusedIndex = -1;\n\t\t\t\t\tthis.focusedSuggestion = \"\";\n\t\t\t\t\tthis.getSuggestions();\n\t\t\t}\n\t\t},\n\t\tisFocusedSuggestion(suggestion) {\n\t\t\treturn this.focusedSuggestion == suggestion;\n\t\t},\n\t\tgetSuggestions() {\n\t\t\t// Regex is for any possible suggestion that starts with what is currently in the search bar. The possible options are then filtered into suggestions using this regex.\n\t\t\t//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\n\n\t\t\t// TODO: Update this for performance. The amount of possible selections will be reduced to the current suggestions. When the length of the input string shrinks, all options should be considered again.\n\t\t\tconst regexPattern = new RegExp(\n\t\t\t\t\"^\" + this.searchTerm.toLowerCase() + \".*$\"\n\t\t\t);\n\n\t\t\tthis.suggestions = this.searchOptions.filter((option) =>\n\t\t\t\tregexPattern.test(option.toLowerCase())\n\t\t\t);\n\t\t},\n\n\t\t// Check so see if the search result exists, then load a popup with it.\n\t\tsubmitSearch(input) {\n\t\t\tthis.close();\n\t\t\tconst searchResult = this.$store.getters[\"plants/species\"](input);\n\t\t\tif (searchResult) {\n\t\t\t\tif (this.$route.path.includes(\"my-plants\")) {\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: \"private-plant\",\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tid: searchResult.id,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.searchResultForPopUp = searchResult;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\talert(\"Your search could not be found.\");\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.suggestion {\n\tcursor: pointer;\n\tdisplay: flex;\n}\n\n/* We don't want the suggestion to span the whole box. So left/translate is used. */\n.suggestion-text {\n\tcursor: pointer;\n\twidth: fit-content;\n\tposition: relative;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-weight: normal;\n}\n\n.suggestion-text:last-child {\n\tpadding-bottom: 1rem;\n}\n\n.suggestion-text:hover,\n.suggestionFocus {\n\tfont-weight: bold;\n}\n\n.search-container {\n\twidth: 100%;\n\tdisplay: block;\n}\n\n.search-input {\n\tposition: relative;\n\twidth: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.05);\n\tborder: none;\n\theight: 2rem;\n\ttext-align: center;\n\tcolor: #3f463d;\n\tfont-family: fell, serif;\n\tfont-size: 1.5rem;\n\tpadding: 1rem;\n\tborder-bottom: 2px solid gray;\n\toutline: none;\n}\n</style>\n"],"sourceRoot":""}]}