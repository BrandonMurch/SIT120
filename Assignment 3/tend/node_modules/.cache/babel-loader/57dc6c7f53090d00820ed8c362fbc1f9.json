{"remainingRequest":"/home/brandon/Documents/Independent Programming/tend/node_modules/thread-loader/dist/cjs.js!/home/brandon/Documents/Independent Programming/tend/node_modules/babel-loader/lib/index.js!/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/brandon/Documents/Independent Programming/tend/src/components/ImageGallery.vue?vue&type=template&id=324ba608&scoped=true","dependencies":[{"path":"/home/brandon/Documents/Independent Programming/tend/src/components/ImageGallery.vue","mtime":1632333631821},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632324173000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632324173000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlbmRlclNsb3QgYXMgX3JlbmRlclNsb3QsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBtZXJnZVByb3BzIGFzIF9tZXJnZVByb3BzLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB2U2hvdyBhcyBfdlNob3csIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi0zMjRiYTYwOCIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgcmVmOiAiY29udGFpbmVyIiwKICBjbGFzczogImdhbGxlcnktY29udGFpbmVyIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInJlbG9hZC10cmlnZ2VyIiwKICByZWY6ICJyZWxvYWRUcmlnZ2VyIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0ltYWdlQ2FyZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJJbWFnZUNhcmQiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuaW1hZ2VDb2x1bW5zLCBmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogImdhbGxlcnktY29sdW1uIiwKICAgICAga2V5OiBpbmRleAogICAgfSwgW2luZGV4ID09IDAgPyBfcmVuZGVyU2xvdChfY3R4LiRzbG90cywgImRlZmF1bHQiLCB7CiAgICAgIGtleTogMAogICAgfSwgdW5kZWZpbmVkLCB0cnVlKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGNvbHVtbiwgZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0ltYWdlQ2FyZCwgX21lcmdlUHJvcHMoewogICAgICAgIGtleTogaW1hZ2UuaWQKICAgICAgfSwgaW1hZ2UsIHsKICAgICAgICBvbkltYWdlTG9hZGVkOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkc2V0dXAuc2V0QWxsSW1hZ2VzTG9hZGVkSWZUcnVlKCRwcm9wcy5pbWFnZXMpOwogICAgICAgIH0pLAogICAgICAgIG9uSW1hZ2VDbGljazogZnVuY3Rpb24gb25JbWFnZUNsaWNrKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIF9jdHguJGVtaXQoJ2l0ZW1DbGljaycsIGltYWdlKTsKICAgICAgICB9LAogICAgICAgIGFjdGlvbnM6ICRwcm9wcy5pbmNsdWRlQWN0aW9ucyA/IGltYWdlLmFjdGlvbnMgOiBbXSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgIndpZHRoIjogIjI1MHB4IgogICAgICAgIH0sCiAgICAgICAgb25QZXJmb3JtQWN0aW9uOiBmdW5jdGlvbiBvblBlcmZvcm1BY3Rpb24oYWN0aW9uKSB7CiAgICAgICAgICByZXR1cm4gX2N0eC4kZW1pdCgncGVyZm9ybUFjdGlvbicsIHsKICAgICAgICAgICAgaWQ6IGltYWdlLmlkLAogICAgICAgICAgICBhY3Rpb246IGFjdGlvbgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KSwgbnVsbCwgMTYsIFsib25JbWFnZUNsaWNrIiwgImFjdGlvbnMiLCAib25QZXJmb3JtQWN0aW9uIl0pOwogICAgfSksIDEyOCkpXSk7CiAgfSksIDEyOCkpXSwgNTEyKSwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIG51bGwsIDUxMiksIFtbX3ZTaG93LCAkc2V0dXAuYWxsSW1hZ2VzTG9hZGVkXV0pXSwgNjQpOwp9"},{"version":3,"sources":["/home/brandon/Documents/Independent Programming/tend/src/components/ImageGallery.vue"],"names":[],"mappings":";;;;;;;AA6BM,EAAA,GAAG,EAAC,W;AAAY,EAAA,KAAK,EAAC;;;AAwB1B,EAAA,KAAK,EAAC,gB;AACN,EAAA,GAAG,EAAC;;;;;6DAzBL,mBAAA,CAoBM,KApBN,EAAA,UAAA,EAoBM,E,kBAnBL,mBAAA,CAkBM,SAlBN,EAkBM,IAlBN,EAkBM,WAAA,CAhBqB,MAAA,CAAA,YAgBrB,EAhBiC,UAA9B,MAA8B,EAAtB,KAAsB,EAAjB;yBAFtB,mBAAA,CAkBM,KAlBN,EAkBM;AAjBL,MAAA,KAAK,EAAC,gBAiBD;AAfJ,MAAA,GAAG,EAAE;AAeD,KAlBN,E,CAKa,KAAK,IAAA,C,GAAjB,WAAA,CAA0B,IAAA,CAAA,MAA1B,EAA0B,SAA1B,EAA0B;AAAA,MAAA,GAAA,EAAA;AAAA,KAA1B,EAA0B,SAA1B,EAA0B,IAA1B,C,qDACA,mBAAA,CAWE,SAXF,EAWE,IAXF,EAWE,WAAA,CAVe,MAUf,EAVqB,UAAf,KAAe,EAAV;2BADb,YAAA,CAWE,oBAXF,EAAA,WAAA,CAWE;AATA,QAAA,GAAG,EAAE,KAAK,CAAC;AASX,OAXF,EAGS,KAHT,EAGc;AACZ,QAAA,aAAW,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,iBAAQ,MAAA,CAAA,wBAAA,CAAyB,MAAA,CAAA,MAAzB,CAAR;AAAA,SAAA,CADC;AAEZ,QAAA,YAAU,EAAA,sBAAA,MAAA;AAAA,iBAAE,IAAA,CAAA,KAAA,CAAK,WAAL,EAAmB,KAAnB,CAAF;AAAA,SAFE;AAGZ,QAAA,OAAO,EAAE,MAAA,CAAA,cAAA,GAAiB,KAAK,CAAC,OAAvB,GAA8B,EAH3B;AAIb,QAAA,KAAmB,EAAnB;AAAA,mBAAA;AAAA,SAJa;AAKZ,QAAA,eAAa,E,yBAAS,M;iBAAW,IAAA,CAAA,KAAA,CAAK,eAAL,EAAK;AAAA,YAAA,EAAA,EAAwB,KAAK,CAAC,EAA9B;AAAkC,YAAA,MAAM,EAAN;AAAlC,WAAL,C;;AALrB,OAHd,CAAA,E,IAAA,E,EAAA,E,8CAAA,C;KAWE,CAXF,E,GAAA,C,EAND,C;GAkBM,CAlBN,E,GAAA,CAmBK,EApBN,E,GAAA,C,kBAsBA,mBAAA,CAIO,KAJP,EAAA,UAAA,EAIO,IAJP,EAIO,GAJP,C,EAIO,C,SAHE,MAAA,CAAA,e,CAGF,C","sourcesContent":["<!-- Once the bottom of the page is reached, 'moreImages' will be emitted. A slot is\nprovided for a special card to be placed in the first place of the first column. -->\n\n<!--\nDescription: \t\tPresents images within the space given. Arranges the image \n\t\t\t\t\tinto columns. \n\nProps: \n\timages\t\t\tAn array of image objects, including an image url, and \t\n\t\t\t\t\toptional actions and title.\n\n\tincludeActions\tBoolean. Whether or not to include action buttons with the \n\t\t\t\t\timages\n\nEmits: \n\n\tmoreImages\t\tEmitted upon reaching the bottom of the gallery. A request \n\t\t\t\t\tfor more images if they are available.\n\n\titemClick\t\tEmitted when a card is clicked. Returns the image object \t\t\t\t\tfrom that card.\n\t\t\t\n\tperformAction\tCall performaction if actions were included. Returns an \n\t\t\t\t\tobject with an id and action.\n\nSlots:\n\tdefault \tPlaces an element in the first spot of the first column.\n-->\n\n<template>\n\t<div ref=\"container\" class=\"gallery-container\">\n\t\t<div\n\t\t\tclass=\"gallery-column\"\n\t\t\tv-for=\"(column, index) in imageColumns\"\n\t\t\t:key=\"index\"\n\t\t>\n\t\t\t<slot v-if=\"index == 0\" />\n\t\t\t<ImageCard\n\t\t\t\tv-for=\"image in column\"\n\t\t\t\t:key=\"image.id\"\n\t\t\t\tv-bind=\"image\"\n\t\t\t\t@imageLoaded=\"() => setAllImagesLoadedIfTrue(images)\"\n\t\t\t\t@imageClick=\"$emit('itemClick', image)\"\n\t\t\t\t:actions=\"includeActions ? image.actions : []\"\n\t\t\t\tstyle=\"width:250px\"\n\t\t\t\t@performAction=\"\n\t\t\t\t\t(action) => $emit('performAction', { id: image.id, action })\n\t\t\t\t\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n\t<!-- Only display once all images are loaded, to prevent hitting it initially -->\n\t<div\n\t\tv-show=\"allImagesLoaded\"\n\t\tclass=\"reload-trigger\"\n\t\tref=\"reloadTrigger\"\n\t></div>\n</template>\n\n<script>\nimport ImageCard from \"./CardImage.vue\";\nimport { debounce } from \"../helpers/debounce.js\";\nimport { ref, watch, onMounted, onUnmounted } from \"vue\";\nimport windowSizeWatcher from \"../composables/windowSizeWatcher\";\nimport arrangeImages from \"../composables/arrangeImages\";\n\nexport default {\n\tname: \"ImageGallery\",\n\tcomponents: {\n\t\tImageCard,\n\t},\n\tprops: {\n\t\timages: Array,\n\t\tincludeActions: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: [\"itemClick\", \"moreImages\", \"performAction\"],\n\n\tsetup(props, { emit }) {\n\t\tlet observer = null;\n\t\tconst reloadTrigger = ref(null);\n\n\t\tconst {\n\t\t\tcontainer,\n\t\t\tallImagesLoaded,\n\t\t\tupdateColumns,\n\t\t\tsetAllImagesLoadedIfTrue,\n\t\t\timageColumns,\n\t\t} = arrangeImages();\n\n\t\tconst debounceUpdateSize = debounce(() => updateColumns(props.images));\n\t\twindowSizeWatcher(debounceUpdateSize);\n\n\t\t// When I only used props.images instead of () => props.images, watch wouldn't be triggered by props changes.\n\t\twatch(\n\t\t\t() => props.images,\n\t\t\t(currentValue) => {\n\t\t\t\tupdateColumns(currentValue);\n\t\t\t}\n\t\t);\n\n\t\t// Must wait until mounted to create observer. Otherwise reloadTrigger will not have been attached to element.\n\t\tonMounted(() => {\n\t\t\tobserver = new IntersectionObserver((entries) => {\n\t\t\t\tif (entries[0].isIntersecting === true) {\n\t\t\t\t\temit(\"moreImages\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tobserver.observe(reloadTrigger.value);\n\t\t\tupdateColumns(props.images);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\tobserver.disconnect();\n\t\t});\n\n\t\treturn {\n\t\t\treloadTrigger,\n\t\t\tsetAllImagesLoadedIfTrue,\n\t\t\tcontainer,\n\t\t\tallImagesLoaded,\n\t\t\timageColumns,\n\t\t};\n\t},\n};\n</script>\n\n<style scoped>\n.gallery-container {\n\tmargin: auto;\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: center;\n}\n\n.gallery-column {\n\tmargin: 0.5rem;\n}\n\n.reload-trigger {\n\twidth: 100vw;\n\theight: 20px;\n}\n</style>\n"],"sourceRoot":""}]}