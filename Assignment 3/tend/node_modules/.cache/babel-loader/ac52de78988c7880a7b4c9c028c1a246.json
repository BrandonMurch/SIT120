{"remainingRequest":"/home/brandon/Documents/Independent Programming/tend/node_modules/thread-loader/dist/cjs.js!/home/brandon/Documents/Independent Programming/tend/node_modules/babel-loader/lib/index.js!/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/brandon/Documents/Independent Programming/tend/src/components/ImageGallery.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/brandon/Documents/Independent Programming/tend/src/components/ImageGallery.vue","mtime":1632333631821},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brandon/Documents/Independent Programming/tend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632324173000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEltYWdlQ2FyZCBmcm9tICIuL0NhcmRJbWFnZS52dWUiOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gIi4uL2hlbHBlcnMvZGVib3VuY2UuanMiOwppbXBvcnQgeyByZWYsIHdhdGNoLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHdpbmRvd1NpemVXYXRjaGVyIGZyb20gIi4uL2NvbXBvc2FibGVzL3dpbmRvd1NpemVXYXRjaGVyIjsKaW1wb3J0IGFycmFuZ2VJbWFnZXMgZnJvbSAiLi4vY29tcG9zYWJsZXMvYXJyYW5nZUltYWdlcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW1hZ2VHYWxsZXJ5IiwKICBjb21wb25lbnRzOiB7CiAgICBJbWFnZUNhcmQ6IEltYWdlQ2FyZAogIH0sCiAgcHJvcHM6IHsKICAgIGltYWdlczogQXJyYXksCiAgICBpbmNsdWRlQWN0aW9uczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZW1pdHM6IFsiaXRlbUNsaWNrIiwgIm1vcmVJbWFnZXMiLCAicGVyZm9ybUFjdGlvbiJdLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICB2YXIgb2JzZXJ2ZXIgPSBudWxsOwogICAgdmFyIHJlbG9hZFRyaWdnZXIgPSByZWYobnVsbCk7CgogICAgdmFyIF9hcnJhbmdlSW1hZ2VzID0gYXJyYW5nZUltYWdlcygpLAogICAgICAgIGNvbnRhaW5lciA9IF9hcnJhbmdlSW1hZ2VzLmNvbnRhaW5lciwKICAgICAgICBhbGxJbWFnZXNMb2FkZWQgPSBfYXJyYW5nZUltYWdlcy5hbGxJbWFnZXNMb2FkZWQsCiAgICAgICAgdXBkYXRlQ29sdW1ucyA9IF9hcnJhbmdlSW1hZ2VzLnVwZGF0ZUNvbHVtbnMsCiAgICAgICAgc2V0QWxsSW1hZ2VzTG9hZGVkSWZUcnVlID0gX2FycmFuZ2VJbWFnZXMuc2V0QWxsSW1hZ2VzTG9hZGVkSWZUcnVlLAogICAgICAgIGltYWdlQ29sdW1ucyA9IF9hcnJhbmdlSW1hZ2VzLmltYWdlQ29sdW1uczsKCiAgICB2YXIgZGVib3VuY2VVcGRhdGVTaXplID0gZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdXBkYXRlQ29sdW1ucyhwcm9wcy5pbWFnZXMpOwogICAgfSk7CiAgICB3aW5kb3dTaXplV2F0Y2hlcihkZWJvdW5jZVVwZGF0ZVNpemUpOyAvLyBXaGVuIEkgb25seSB1c2VkIHByb3BzLmltYWdlcyBpbnN0ZWFkIG9mICgpID0+IHByb3BzLmltYWdlcywgd2F0Y2ggd291bGRuJ3QgYmUgdHJpZ2dlcmVkIGJ5IHByb3BzIGNoYW5nZXMuCgogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcHJvcHMuaW1hZ2VzOwogICAgfSwgZnVuY3Rpb24gKGN1cnJlbnRWYWx1ZSkgewogICAgICB1cGRhdGVDb2x1bW5zKGN1cnJlbnRWYWx1ZSk7CiAgICB9KTsgLy8gTXVzdCB3YWl0IHVudGlsIG1vdW50ZWQgdG8gY3JlYXRlIG9ic2VydmVyLiBPdGhlcndpc2UgcmVsb2FkVHJpZ2dlciB3aWxsIG5vdCBoYXZlIGJlZW4gYXR0YWNoZWQgdG8gZWxlbWVudC4KCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykgewogICAgICAgIGlmIChlbnRyaWVzWzBdLmlzSW50ZXJzZWN0aW5nID09PSB0cnVlKSB7CiAgICAgICAgICBlbWl0KCJtb3JlSW1hZ2VzIik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShyZWxvYWRUcmlnZ2VyLnZhbHVlKTsKICAgICAgdXBkYXRlQ29sdW1ucyhwcm9wcy5pbWFnZXMpOwogICAgfSk7CiAgICBvblVubW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgcmVsb2FkVHJpZ2dlcjogcmVsb2FkVHJpZ2dlciwKICAgICAgc2V0QWxsSW1hZ2VzTG9hZGVkSWZUcnVlOiBzZXRBbGxJbWFnZXNMb2FkZWRJZlRydWUsCiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLAogICAgICBhbGxJbWFnZXNMb2FkZWQ6IGFsbEltYWdlc0xvYWRlZCwKICAgICAgaW1hZ2VDb2x1bW5zOiBpbWFnZUNvbHVtbnMKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/home/brandon/Documents/Independent Programming/tend/src/components/ImageGallery.vue"],"names":[],"mappings":"AA2DA,OAAO,SAAP,MAAsB,iBAAtB;AACA,SAAS,QAAT,QAAyB,wBAAzB;AACA,SAAS,GAAT,EAAc,KAAd,EAAqB,SAArB,EAAgC,WAAhC,QAAmD,KAAnD;AACA,OAAO,iBAAP,MAA8B,kCAA9B;AACA,OAAO,aAAP,MAA0B,8BAA1B;AAEA,eAAe;AACd,EAAA,IAAI,EAAE,cADQ;AAEd,EAAA,UAAU,EAAE;AACX,IAAA,SAAS,EAAT;AADW,GAFE;AAKd,EAAA,KAAK,EAAE;AACN,IAAA,MAAM,EAAE,KADF;AAEN,IAAA,cAAc,EAAE;AACf,MAAA,IAAI,EAAE,OADS;AAEf,MAAA,OAAO,EAAE;AAFM;AAFV,GALO;AAYd,EAAA,KAAK,EAAE,CAAC,WAAD,EAAc,YAAd,EAA4B,eAA5B,CAZO;AAcd,EAAA,KAdc,iBAcR,KAdQ,QAcS;AAAA,QAAR,IAAQ,QAAR,IAAQ;AACtB,QAAI,QAAO,GAAI,IAAf;AACA,QAAM,aAAY,GAAI,GAAG,CAAC,IAAD,CAAzB;;AAEA,yBAMI,aAAa,EANjB;AAAA,QACC,SADD,kBACC,SADD;AAAA,QAEC,eAFD,kBAEC,eAFD;AAAA,QAGC,aAHD,kBAGC,aAHD;AAAA,QAIC,wBAJD,kBAIC,wBAJD;AAAA,QAKC,YALD,kBAKC,YALD;;AAQA,QAAM,kBAAiB,GAAI,QAAQ,CAAC;AAAA,aAAM,aAAa,CAAC,KAAK,CAAC,MAAP,CAAnB;AAAA,KAAD,CAAnC;AACA,IAAA,iBAAiB,CAAC,kBAAD,CAAjB,CAbsB,CAetB;;AACA,IAAA,KAAK,CACJ;AAAA,aAAM,KAAK,CAAC,MAAZ;AAAA,KADI,EAEJ,UAAC,YAAD,EAAkB;AACjB,MAAA,aAAa,CAAC,YAAD,CAAb;AACD,KAJI,CAAL,CAhBsB,CAuBtB;;AACA,IAAA,SAAS,CAAC,YAAM;AACf,MAAA,QAAO,GAAI,IAAI,oBAAJ,CAAyB,UAAC,OAAD,EAAa;AAChD,YAAI,OAAO,CAAC,CAAD,CAAP,CAAW,cAAX,KAA8B,IAAlC,EAAwC;AACvC,UAAA,IAAI,CAAC,YAAD,CAAJ;AACD;AACA,OAJU,CAAX;AAMA,MAAA,QAAQ,CAAC,OAAT,CAAiB,aAAa,CAAC,KAA/B;AACA,MAAA,aAAa,CAAC,KAAK,CAAC,MAAP,CAAb;AACA,KATQ,CAAT;AAWA,IAAA,WAAW,CAAC,YAAM;AACjB,MAAA,QAAQ,CAAC,UAAT;AACA,KAFU,CAAX;AAIA,WAAO;AACN,MAAA,aAAa,EAAb,aADM;AAEN,MAAA,wBAAwB,EAAxB,wBAFM;AAGN,MAAA,SAAS,EAAT,SAHM;AAIN,MAAA,eAAe,EAAf,eAJM;AAKN,MAAA,YAAY,EAAZ;AALM,KAAP;AAOA;AA5Da,CAAf","sourcesContent":["<!-- Once the bottom of the page is reached, 'moreImages' will be emitted. A slot is\nprovided for a special card to be placed in the first place of the first column. -->\n\n<!--\nDescription: \t\tPresents images within the space given. Arranges the image \n\t\t\t\t\tinto columns. \n\nProps: \n\timages\t\t\tAn array of image objects, including an image url, and \t\n\t\t\t\t\toptional actions and title.\n\n\tincludeActions\tBoolean. Whether or not to include action buttons with the \n\t\t\t\t\timages\n\nEmits: \n\n\tmoreImages\t\tEmitted upon reaching the bottom of the gallery. A request \n\t\t\t\t\tfor more images if they are available.\n\n\titemClick\t\tEmitted when a card is clicked. Returns the image object \t\t\t\t\tfrom that card.\n\t\t\t\n\tperformAction\tCall performaction if actions were included. Returns an \n\t\t\t\t\tobject with an id and action.\n\nSlots:\n\tdefault \tPlaces an element in the first spot of the first column.\n-->\n\n<template>\n\t<div ref=\"container\" class=\"gallery-container\">\n\t\t<div\n\t\t\tclass=\"gallery-column\"\n\t\t\tv-for=\"(column, index) in imageColumns\"\n\t\t\t:key=\"index\"\n\t\t>\n\t\t\t<slot v-if=\"index == 0\" />\n\t\t\t<ImageCard\n\t\t\t\tv-for=\"image in column\"\n\t\t\t\t:key=\"image.id\"\n\t\t\t\tv-bind=\"image\"\n\t\t\t\t@imageLoaded=\"() => setAllImagesLoadedIfTrue(images)\"\n\t\t\t\t@imageClick=\"$emit('itemClick', image)\"\n\t\t\t\t:actions=\"includeActions ? image.actions : []\"\n\t\t\t\tstyle=\"width:250px\"\n\t\t\t\t@performAction=\"\n\t\t\t\t\t(action) => $emit('performAction', { id: image.id, action })\n\t\t\t\t\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n\t<!-- Only display once all images are loaded, to prevent hitting it initially -->\n\t<div\n\t\tv-show=\"allImagesLoaded\"\n\t\tclass=\"reload-trigger\"\n\t\tref=\"reloadTrigger\"\n\t></div>\n</template>\n\n<script>\nimport ImageCard from \"./CardImage.vue\";\nimport { debounce } from \"../helpers/debounce.js\";\nimport { ref, watch, onMounted, onUnmounted } from \"vue\";\nimport windowSizeWatcher from \"../composables/windowSizeWatcher\";\nimport arrangeImages from \"../composables/arrangeImages\";\n\nexport default {\n\tname: \"ImageGallery\",\n\tcomponents: {\n\t\tImageCard,\n\t},\n\tprops: {\n\t\timages: Array,\n\t\tincludeActions: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: [\"itemClick\", \"moreImages\", \"performAction\"],\n\n\tsetup(props, { emit }) {\n\t\tlet observer = null;\n\t\tconst reloadTrigger = ref(null);\n\n\t\tconst {\n\t\t\tcontainer,\n\t\t\tallImagesLoaded,\n\t\t\tupdateColumns,\n\t\t\tsetAllImagesLoadedIfTrue,\n\t\t\timageColumns,\n\t\t} = arrangeImages();\n\n\t\tconst debounceUpdateSize = debounce(() => updateColumns(props.images));\n\t\twindowSizeWatcher(debounceUpdateSize);\n\n\t\t// When I only used props.images instead of () => props.images, watch wouldn't be triggered by props changes.\n\t\twatch(\n\t\t\t() => props.images,\n\t\t\t(currentValue) => {\n\t\t\t\tupdateColumns(currentValue);\n\t\t\t}\n\t\t);\n\n\t\t// Must wait until mounted to create observer. Otherwise reloadTrigger will not have been attached to element.\n\t\tonMounted(() => {\n\t\t\tobserver = new IntersectionObserver((entries) => {\n\t\t\t\tif (entries[0].isIntersecting === true) {\n\t\t\t\t\temit(\"moreImages\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tobserver.observe(reloadTrigger.value);\n\t\t\tupdateColumns(props.images);\n\t\t});\n\n\t\tonUnmounted(() => {\n\t\t\tobserver.disconnect();\n\t\t});\n\n\t\treturn {\n\t\t\treloadTrigger,\n\t\t\tsetAllImagesLoadedIfTrue,\n\t\t\tcontainer,\n\t\t\tallImagesLoaded,\n\t\t\timageColumns,\n\t\t};\n\t},\n};\n</script>\n\n<style scoped>\n.gallery-container {\n\tmargin: auto;\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: center;\n}\n\n.gallery-column {\n\tmargin: 0.5rem;\n}\n\n.reload-trigger {\n\twidth: 100vw;\n\theight: 20px;\n}\n</style>\n"],"sourceRoot":""}]}